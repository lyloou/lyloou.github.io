---
title: java资源回收
date: 2019-07-05 14:03:03
toc: true
comments: true
tags:
- java
---



## 资源回收的时机
- [程序kill -9与kill -15的区别，以及回调函数的作用 - ungoneless的博客 - CSDN博客](https://blog.csdn.net/ungoneless/article/details/53191719)
```java
public class ShutdownHookTest {

    private static final void shutdownCallback() {
        System.out.println("Shutdown callback is invoked.");
        // 在这回收资源
    }

    public static void main(String[] args) throws InterruptedException {
        Runtime.getRuntime().addShutdownHook(new Thread(ShutdownHookTest::shutdownCallback));
        Thread.sleep(20000);
    }
}
```

```sh
java ShutdownHookTest

ps -aux | grep ShutdownHookTest

kill -15 6483
```
![ShutdownHookTest](https://github.com/lyloou/img/raw/develop/z/20190705140222.png)