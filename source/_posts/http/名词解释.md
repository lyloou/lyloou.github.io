---
title: 网络名词解释
date: 2019-01-22 16:43:40
toc: true
comments: true
tags:
- http
---


[Basics of Computer Networking - GeeksforGeeks](https://www.geeksforgeeks.org/basics-computer-networking/)

## 幂等
### [幂等_百度百科](https://baike.baidu.com/item/%E5%B9%82%E7%AD%89)
在编程中一个幂等操作的特点是其任意多次执行所产生的影响均与一次执行的影响相同。


### [理解HTTP幂等性 - Todd Wei - 博客园](https://www.cnblogs.com/weidagang2046/archive/2011/06/04/idempotence.html)
另一种更轻量级的解决方案是幂等设计。我们可以通过一些技巧把withdraw变成幂等的，比如：
```java
int create_ticket() 
bool idempotent_withdraw(ticket_id, account_id, amount)
```

create_ticket的语义是获取一个服务器端生成的唯一的处理号ticket_id，它将用于标识后续的操作。idempotent_withdraw和withdraw的区别在于关联了一个ticket_id，一个ticket_id表示的操作至多只会被处理一次，每次调用都将返回第一次调用时的处理结果。这样，idempotent_withdraw就符合幂等性了，客户端就可以放心地多次调用。

基于幂等性的解决方案中一个完整的取钱流程被分解成了两个步骤：1.调用create_ticket()获取ticket_id；2.调用idempotent_withdraw(ticket_id, account_id, amount)。虽然create_ticket不是幂等的，但在这种设计下，它对系统状态的影响可以忽略，加上idempotent_withdraw是幂等的，所以任何一步由于网络等原因失败或超时，客户端都可以重试，直到获得结果。
![](https://images.cnblogs.com/cnblogs_com/weidagang2046/201106/201106042051069339.png)

### POST 和 PUT 在幂等性方面有所不同
> The POST method is used to request that the origin server accept the entity enclosed in the request as a new subordinate of the resource identified by the Request-URI in the Request-Line ...... If a resource has been created on the origin server, the response SHOULD be 201 (Created) and contain an entity which describes the status of the request and refers to the new resource, and a Location header.
> The PUT method requests that the enclosed entity be stored under the supplied Request-URI. If the Request-URI refers to an already existing resource, the enclosed entity SHOULD be considered as a modified version of the one residing on the origin server. If the Request-URI does not point to an existing resource, and that URI is capable of being defined as a new resource by the requesting user agent, the origin server can create the resource with that URI.
> POST所对应的URI并非创建的资源本身，而是资源的接收者。
比如：POST `http://www.forum.com/articles`的语义是在`http://www.forum.com/articles`下创建一篇帖子，HTTP响应中应包含帖子的创建状态以及帖子的URI。两次相同的POST请求会在服务器端创建两份资源，它们具有不同的URI；所以，POST方法不具备幂等性。而PUT所对应的URI是要创建或更新的资源本身。比如：PUT `http://www.forum/articles/4231`的语义是创建或更新ID为4231的帖子。对同一URI进行多次PUT的副作用和一次PUT是相同的；因此，PUT方法具有幂等性。  

https://www.cnblogs.com/weidagang2046/archive/2011/06/04/idempotence.html
